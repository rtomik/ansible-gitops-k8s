radarr:
  env:
    TZ: {{ timezone }}
    PUID: "0"
    PGID: "0"
      

  ingress:
    enabled: true
    className: traefik
    annotations:
      traefik.ingress.kubernetes.io/router.entrypoints: websecure
      traefik.ingress.kubernetes.io/router.middlewares: default-default-headers@kubernetescrd
    hosts:
      - host: radarr.{{ domain }}
        paths:
          - path: /
            pathType: ImplementationSpecific
    tls:
      - hosts:
          - radarr.{{ domain }}

  # Main application storage
  persistence:
    storageClass: "longhorn"
    enabled: true
    accessMode: ReadWriteOnce
    size: 2Gi
  
{% if external_storage.enabled and external_storage.applications.qbittorrent.enabled %}
    additionalVolumes:
      - name: downloads
        persistentVolumeClaim:
          claimName: "{{ external_storage.applications.qbittorrent.pvc_name }}"
    
    additionalMounts:
      - name: downloads
        mountPath: /downloads
{% endif %}          
